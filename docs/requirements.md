## プロジェクト名

Astro form

## 関係者

- 占い師
- 占い師のアシスタント
- ユーザー
- システム運用担当

## 要求

- 占い師とアシスタントがフォームを作成・公開できる
- ユーザーがフォームに回答できる
- システム運用担当が監査ログを見る事ができる
- 個人情報を取り扱うので、GDPRに準拠する
- 原則Azureの無料枠のサービスでシステムを構成する
  

## 画面

デザインはFluent UIをベースに行う。レスポンシブ対応。

- **ログインページ** : Microsoft Entra External IDのベーシックな機能を利用したログインページ
- **フォーム一覧画面** : 作成したフォームの一覧を表示するページ。**フォーム管理情報**を表示する
- **フォーム作成画面** : 選択したフォームの編集・公開が行えるページ
- **プレビュー画面** : 入力フォームのデータを元にHTMLを生成し、プレビュー用フォルダ配下に配置したページ
- **回答後ページ** : フォームに回答した後で遷移するページ。デフォルトではこちらで準備したThank youページが設定されており、任意のURLを設定できる。
- **ログ管理ページ** : 占い師ごと、またはフォームごとのログを参照できるページ。運用担当・開発担当だけが参照可能
- **アカウント情報ページ** : プライバシーポリシーへのリンク、ログアウト、アカウント削除
- **プライバシーポリシーのページ** : プライバシーポリシーが記載されたページ
- **アカウント削除ページ** : アカウント削除用のページ。確認後、アカウントを削除する。

## エンティティ

docs/entities.md を参照。
  
## コンポーネント

- ヘッダー : サービス名(TOPへのリンク含む)、フォーム一覧画面、ログ管理ページ、アカウント情報ページへのリンクを含む。ログイン後は常に表示

## セキュリティ上の注意点

- フォームに入力される情報はPIIとして扱います
- 占い師・アシスタントはフォームの編集権限を持ちます。運用担当はログの参照権限を持ちます
- GDPRへの対応を行います


